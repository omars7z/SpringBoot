<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Manage Grades</title>
</head>
<body>
<h1> Instructor Dashboard</h1>
<h2>Add Grade</h2>

<!-- Form to add a new grade -->
<form action="../api/instructors/grades" method="post">
    <label for="studentId">Student ID:</label>
    <input type="text" id="studentId" name="studentId">
    <label for="courseId">Course ID:</label>
    <input type="text" id="courseId" name="courseId">
    <label for="grade">Grade:</label>
    <input type="text" id="grade" name="grade">
    <button type="submit">Add Grade</button>
</form>

<h2>Update Grade</h2>

<!-- Form to update a grade -->
<form action="../api/instructors/grades/{gradeId}" method="post">
    <label for="updatedStudentId">Updated Student ID:</label>
    <input type="text" id="updatedStudentId" name="studentId">
    <label for="updatedCourseId">Updated Course ID:</label>
    <input type="text" id="updatedCourseId" name="courseId">
    <label for="updatedGrade">Updated Grade:</label>
    <input type="text" id="updatedGrade" name="grade">
    <button type="submit">Update Grade</button>
</form>

<h2>Delete Grade</h2>

<!-- Form to delete a grade -->
<form id="deleteGradeForm">
    <label for="gradeId">Grade ID:</label>
    <input type="text" id="gradeId" name="gradeId">
    <button type="button" onclick="deleteGrade()">Delete Grade</button>
</form>

<script>
    function deleteGrade() {
        const gradeIdToDelete = document.getElementById("gradeId").value;

        if (!gradeIdToDelete) {
            alert("Please enter a Grade ID to delete.");
            return;
        }
        fetch(`/api/instructors/grades/${gradeIdToDelete}`, {
            method: 'DELETE',
            headers: {
                'Content-Type': 'application/json'
            },
        })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                console.log('Delete successful', data);
                alert('Delete successful');
            })
            .catch(error => {
            });
    }
</script>
<h2>Grades Statistics</h2>
<!-- Display statistics like class average, median, highest, and lowest marks here -->
<!--<p>Class Average: ${classAverage}</p>-->
<!--<p>Median: ${median}</p>-->
<!--<p>Highest Mark: ${highestMark}</p>-->
<!--<p>Lowest Mark: ${lowestMark}</p>-->
</body>

<h2>Get grade by Id</h2>
<form id="getGradeByIdForm" onsubmit="return redirectToGradeById()">
    <label for="gradeById">Grade ID:</label>
    <input type="text" id="gradeById" name="gradeId">
    <button type="submit">Get Grade</button>
</form>

<script>
    function redirectToGradeById() {
        const gradeId = document.getElementById("gradeById").value;
        if (gradeId) {
            window.location.href = `/api/dao/grades/${gradeId}`;
            return false; // Prevent form submission
        } else {
            alert("Please enter a Grade ID.");
            return false; // Prevent form submission
        }
    }
</script>


<h2>Class Statistics</h2>
<form action="/api/instructors/statistics" method="get">
    <input type="submit" value="View Class Statistics">
</form>
</html>
